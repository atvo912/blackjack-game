(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(14),r=a.n(s),i=a(4),o=(a(19),a(3)),l=a.n(o),u=a(0);var d=function(e){var t,a=e.playMove,n=(e.leaveGame,e.setShowRules),c=e.currentView,s=e.gameState,r=e.username,i="game"===c&&r===(null===(t=s.players[s.current_turn])||void 0===t?void 0:t.user_id);return Object(u.jsxs)("div",{id:"play-buttons",children:[i?Object(u.jsx)("button",{onClick:function(){a("hit")},children:"HIT"}):Object(u.jsx)("button",{onClick:function(){a("hit")},disabled:!0,children:"HIT"}),i?Object(u.jsx)("button",{onClick:function(){a("stand")},children:"STAND"}):Object(u.jsx)("button",{onClick:function(){a("stand")},disabled:!0,children:"STAND"}),Object(u.jsx)("button",{className:"how-to-play",onClick:function(){n(!0)},children:"HOW TO PLAY"})]})};var m=function(e){var t=e.startGame,a=e.leaveGame,n=e.joinGame,c=e.currentView,s=e.gameState,r=s.current_turn>=s.players.length;return Object(u.jsxs)("div",{id:"menu-buttons",children:["game"===c?Object(u.jsx)("button",{onClick:n,children:"JOIN GAME"}):Object(u.jsx)("button",{onClick:n,disabled:!0,children:"JOIN GAME"}),"game"!==c&&Object(u.jsx)("button",{onClick:t,disabled:!0,children:"START GAME"}),"game"===c&&!r&&Object(u.jsx)("button",{onClick:t,children:"START GAME"}),"game"===c&&r&&Object(u.jsx)("button",{onClick:t,children:"RESTART GAME"}),"game"===c?Object(u.jsx)("button",{className:"leave-game",onClick:a,children:"LEAVE GAME"}):Object(u.jsx)("button",{className:"leave-game",onClick:a,disabled:!0,children:"LEAVE GAME"})]})};var j=function(e){var t=e.setCurrentView,a=e.setUsername;return Object(u.jsx)("div",{id:"set-user",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t("join-create"),console.log(e.target[0].value),a(e.target[0].value),console.log("submit pressed")},children:[Object(u.jsxs)("label",{children:["Username:",Object(u.jsx)("input",{type:"text",name:"username"})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"})]})})};var b=function(e){var t=e.findGame,a=e.createGame,n=function(e){e.preventDefault(),console.log(e.target[0].value),console.log(e.target.name),console.log(e),"create"===e.target.name&&a(e.target[0].value),"find"===e.target.name&&t(e.target[0].value)};return Object(u.jsxs)("div",{id:"join-create",children:[Object(u.jsxs)("form",{name:"create",onSubmit:n,children:[Object(u.jsxs)("label",{children:["Create New Game:",Object(u.jsx)("input",{type:"text",name:"username"})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"})]}),Object(u.jsxs)("form",{name:"find",onSubmit:n,children:[Object(u.jsxs)("label",{children:["Find Existing Game:",Object(u.jsx)("input",{type:"text",name:"username"})]}),Object(u.jsx)("input",{type:"submit",value:"Submit"})]})]})};var h=function(e){var t=e.hands,a=e.idx,n=e.players,c=e.isHighlighted,s=n[a],r=!(void 0===s);console.log(s,r);var i=s.wins,o=s.losses,l=s.user_id,d=t[a+1],m=function(e){var t="";if("hidden"===e)t="XX";else{t=e.slice(0,-1);var a=e.slice(-1);"AD"===(t+=["S","C","D","H"][["\u2660","\u2663","\u2666","\u2665"].indexOf(a)])&&(t="aceDiamonds")}var n="../images/".concat(t,".png");return console.log(n),Object(u.jsx)("img",{className:"card",src:n,alt:"card"})};return Object(u.jsxs)("div",{className:"player-box-container",children:[c&&Object(u.jsxs)("div",{className:"player-box highlighted",children:[Object(u.jsxs)("span",{className:"user_id",children:["Player: ",l]}),Object(u.jsx)("span",{className:"cards",children:null===d||void 0===d?void 0:d.map(m)}),Object(u.jsxs)("span",{className:"win-loss",children:["Wins: ",i,"Losses: ",o]}),Object(u.jsxs)("i",{children:["It is ",l,"'s turn"]})]}),!c&&Object(u.jsxs)("div",{className:"player-box",children:[Object(u.jsxs)("span",{className:"user_id",children:["Player: ",l]}),Object(u.jsx)("span",{className:"cards",children:null===d||void 0===d?void 0:d.map(m)}),Object(u.jsxs)("span",{className:"wins",children:["Wins: ",i]}),Object(u.jsxs)("span",{className:"losses",children:["Losses: ",o]})]})]})};var g=function(e){var t=e.hands;return Object(u.jsx)("div",{id:"dealer",children:t[0]&&Object(u.jsxs)(u.Fragment,{children:["DEALER: ",t[0].map((function(e){var t="";if("hidden"===e)t="XX";else{t=e.slice(0,-1);var a=e.slice(-1);t=t+=["S","C","D","H"][["\u2660","\u2663","\u2666","\u2665"].indexOf(a)]}var n="../images/".concat(t,".png");return console.log(n),Object(u.jsx)("img",{className:"card",src:n,alt:"card"})}))]})})};var v=function(e){var t=e.gameState,a=(e.findGame,e.currentView),c=e.findGameNoUpdate,s=(t.started,t.hands),r=t.players,i=t.game_id;return t.current_turn,Object(n.useEffect)((function(){"game"===a&&setInterval((function(){c(i)}),4e3)}),[a]),Object(u.jsxs)("div",{id:"game",children:[Object(u.jsx)(g,{hands:s}),Object(u.jsx)("div",{id:"players",children:r.map((function(e,a){return Object(u.jsx)(h,{hands:s,players:r,idx:a,isHighlighted:a===t.current_turn})}))})]})};var p=function(e){var t=e.username,a=e.currentView,n=e.setCurrentView,c=e.setUsername,s=e.gameState,r=e.findGame,i=e.gameId,o=e.createGame,l=e.joinGame,d=e.findGameNoUpdate;return Object(u.jsxs)("div",{id:"table",children:["Currently logged in as: ",t,Object(u.jsx)("br",{}),"TABLE VIEW: ",a,Object(u.jsx)("br",{}),"Game ID: ",i,Object(u.jsx)("br",{}),"set-user"===e.currentView&&Object(u.jsx)(j,{setCurrentView:n,setUsername:c}),"join-create"===e.currentView&&Object(u.jsx)(b,{findGame:r,createGame:o,joinGame:l}),"game"===e.currentView&&Object(u.jsx)(v,{gameState:s,findGame:r,findGameNoUpdate:d,currentView:a})]})};var O=function(e){var t=e.onCloseRequest,a=e.children;return Object(u.jsxs)("div",{className:"modal-overlay",children:[Object(u.jsx)("button",{type:"button",className:"close-button",onClick:t,children:"X"}),Object(u.jsx)("div",{className:"modal-content",children:a})]})},f=['1. Set a username by enter it into the provided box and hit "Submit"',"2. Create a new game or find an existing one by typing the game ID into the appropriate box",'2.5. After finding an existing game, hit "Join Game" to actually join as a player','3. If the game isn\'t started, press "Start Game" to initialize the game',"4. On your turn, you can choose to Hit or Stand. The goal is to reach 21 or higher without going over (i.e. going bust).   Numerical cards are worth their face value. Face cards are worth 10. Aces are worth 1 or 11, depending on preference. If you go   bust, your turn is over and you automatically lose.","5. Once everyone has gone, the dealer will automatically play until their hand value is 17 or greater, and then wins/losses will be evaluated.",'6. Once the game is over, you can press the "Start Game" button to start a new game','7. Hit "Leave Game" to leave a game lobby. When all active players leave a game, that lobby will be closed.',"NOTE: After leaving a game, it is recommended to refresh or close the page."];var x=function(){var e="18.118.84.134",t=Object(n.useState)("set-user"),a=Object(i.a)(t,2),c=a[0],s=a[1],r=Object(n.useState)(!1),o=Object(i.a)(r,2),j=o[0],b=o[1],h=Object(n.useState)(""),g=Object(i.a)(h,2),v=g[0],x=g[1],y=Object(n.useState)(""),G=Object(i.a)(y,2),w=G[0],S=G[1],N=Object(n.useState)({players:[],hands:[[]],current_turn:0}),C=Object(i.a)(N,2),A=C[0],_=C[1],E=function(t){l()({method:"post",url:"http://".concat(e,"/api/games/join"),data:{game_id:w,user_id:v}}).then((function(e){console.log(e),s("game"),_(e.data)})).catch((function(e){console.error(e)}))},k=function(){l()({method:"delete",url:"http://".concat(e,"/api/games/leave"),data:{game_id:w,user_id:v}}).then((function(e){console.log(e),s("join-create"),S("")})).catch((function(e){console.error(e),s("join-create"),S("")}))};return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("b",{children:"Play Blackjack"})," with a group of up to 4 players online! ",Object(u.jsx)("br",{}),"Click ",Object(u.jsx)("b",{children:"How to Play"})," below for instructions for using this page.",j&&Object(u.jsxs)(O,{onCloseRequest:function(){b(!1)},children:[" ",f.map((function(e){return Object(u.jsx)("div",{className:"rule-line",children:e})}))," "]}),Object(u.jsx)(m,{startGame:function(){l()({method:"post",url:"http://".concat(e,"/api/games/start"),data:{game_id:w}}).then((function(e){console.log(e),_(e.data)})).catch((function(e){console.error(e)}))},leaveGame:k,joinGame:E,currentView:c,gameState:A}),Object(u.jsx)(p,{gameId:w,username:v,currentView:c,setCurrentView:s,setUsername:x,gameState:A,findGame:function(t){var a=t;void 0===t&&(a=w),l()({method:"get",url:"http://".concat(e,"/api/games/state"),headers:{game_id:a}}).then((function(e){console.log(e),S(a),s("game"),_(e.data)})).catch((function(e){console.error(e)}))},findGameNoUpdate:function(t){var a=t;void 0===t&&(a=w),l()({method:"get",url:"http://".concat(e,"/api/games/state"),headers:{game_id:a}}).then((function(e){console.log(e),S(a),_(e.data)})).catch((function(e){console.error(e)}))},createGame:function(t){l()({method:"post",url:"http://".concat(e,"/api/games/create"),data:{game_id:t,user_id:v}}).then((function(e){console.log(e),S(t),s("game"),_(e.data)})).catch((function(e){console.error(e)}))},joinGame:E}),Object(u.jsx)(d,{playMove:function(t){l()({method:"put",url:"http://".concat(e,"/api/games/move"),data:{game_id:w,user_id:v,move:t}}).then((function(e){console.log(e),_(e.data)})).catch((function(e){console.error(e)}))},leaveGame:k,setShowRules:b,currentView:c,gameState:A,username:v})]})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),y()}},[[39,1,2]]]);
//# sourceMappingURL=main.2cc01ae8.chunk.js.map