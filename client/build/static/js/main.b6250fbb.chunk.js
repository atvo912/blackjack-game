(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(14),r=n.n(c),i=n(4),o=(n(19),n(3)),l=n.n(o),d=n(0);var u=function(e){var t,n=e.playMove,a=(e.leaveGame,e.setShowRules),s=e.setShowTech,c=e.currentView,r=e.gameState,i=e.username,o="game"===c&&i===(null===(t=r.players[r.current_turn])||void 0===t?void 0:t.user_id);return Object(d.jsxs)("div",{id:"play-buttons",children:[o?Object(d.jsx)("button",{onClick:function(){n("hit")},children:"HIT"}):Object(d.jsx)("button",{onClick:function(){n("hit")},disabled:!0,children:"HIT"}),o?Object(d.jsx)("button",{onClick:function(){n("stand")},children:"STAND"}):Object(d.jsx)("button",{onClick:function(){n("stand")},disabled:!0,children:"STAND"}),Object(d.jsx)("button",{className:"how-to-play",onClick:function(){a(!0)},children:"HOW TO PLAY"}),Object(d.jsx)("button",{className:"about-tech",onClick:function(){s(!0)},children:"ABOUT THE TECH"})]})};var j=function(e){var t=e.startGame,n=e.leaveGame,a=e.joinGame,s=e.currentView,c=e.gameState,r=c.current_turn>=c.players.length;return Object(d.jsxs)("div",{id:"menu-buttons",children:["game"===s?Object(d.jsx)("button",{onClick:a,children:"JOIN GAME"}):Object(d.jsx)("button",{onClick:a,disabled:!0,children:"JOIN GAME"}),"game"!==s&&Object(d.jsx)("button",{onClick:t,disabled:!0,children:"START GAME"}),"game"===s&&!r&&Object(d.jsx)("button",{onClick:t,children:"START GAME"}),"game"===s&&r&&Object(d.jsx)("button",{onClick:t,children:"RESTART GAME"}),"game"===s?Object(d.jsx)("button",{className:"leave-game",onClick:n,children:"LEAVE GAME"}):Object(d.jsx)("button",{className:"leave-game",onClick:n,disabled:!0,children:"LEAVE GAME"})]})};var m=function(e){var t=e.setCurrentView,n=e.setUsername;return Object(d.jsx)("div",{id:"set-user",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t("join-create"),console.log(e.target[0].value),n(e.target[0].value),console.log("submit pressed")},children:[Object(d.jsxs)("label",{children:["Username:",Object(d.jsx)("input",{type:"text",name:"username"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]})})};var b=function(e){var t=e.findGame,n=e.createGame,a=function(e){e.preventDefault(),console.log(e.target[0].value),console.log(e.target.name),console.log(e),"create"===e.target.name&&n(e.target[0].value),"find"===e.target.name&&t(e.target[0].value)};return Object(d.jsxs)("div",{id:"join-create",children:[Object(d.jsxs)("form",{name:"create",onSubmit:a,children:[Object(d.jsxs)("label",{children:["Create New Game:",Object(d.jsx)("input",{type:"text",name:"username"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]}),Object(d.jsxs)("form",{name:"find",onSubmit:a,children:[Object(d.jsxs)("label",{children:["Find Existing Game:",Object(d.jsx)("input",{type:"text",name:"username"})]}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]})]})};var h=function(e){var t=e.hands,n=e.idx,a=e.players,s=e.isHighlighted,c=a[n],r=!(void 0===c);console.log(c,r);var i=c.wins,o=c.losses,l=c.user_id,u=t[n+1],j=function(e){var t="";if("hidden"===e)t="XX";else{t=e.slice(0,-1);var n=e.slice(-1);"AD"===(t+=["S","C","D","H"][["\u2660","\u2663","\u2666","\u2665"].indexOf(n)])&&(t="aceDiamonds")}var a="../images/".concat(t,".png");return console.log(a),Object(d.jsx)("img",{className:"card",src:a,alt:"card"})};return Object(d.jsxs)("div",{className:"player-box-container",children:[s&&Object(d.jsxs)("div",{className:"player-box highlighted",children:[Object(d.jsxs)("span",{className:"user_id",children:["Player: ",l]}),Object(d.jsx)("span",{className:"cards",children:null===u||void 0===u?void 0:u.map(j)}),Object(d.jsxs)("span",{className:"win-loss",children:["Wins: ",i,"Losses: ",o]}),Object(d.jsxs)("i",{children:["It is ",l,"'s turn"]})]}),!s&&Object(d.jsxs)("div",{className:"player-box",children:[Object(d.jsxs)("span",{className:"user_id",children:["Player: ",l]}),Object(d.jsx)("span",{className:"cards",children:null===u||void 0===u?void 0:u.map(j)}),Object(d.jsxs)("span",{className:"wins",children:["Wins: ",i]}),Object(d.jsxs)("span",{className:"losses",children:["Losses: ",o]})]})]})};var g=function(e){var t=e.hands;return Object(d.jsx)("div",{id:"dealer",children:t[0]&&Object(d.jsxs)(d.Fragment,{children:["DEALER: ",t[0].map((function(e){var t="";if("hidden"===e)t="XX";else{t=e.slice(0,-1);var n=e.slice(-1);t=t+=["S","C","D","H"][["\u2660","\u2663","\u2666","\u2665"].indexOf(n)]}var a="../images/".concat(t,".png");return console.log(a),Object(d.jsx)("img",{className:"card",src:a,alt:"card"})}))]})})};var p=function(e){var t=e.gameState,n=(e.findGame,e.currentView),s=e.findGameNoUpdate,c=(t.started,t.hands),r=t.players,i=t.game_id;return t.current_turn,Object(a.useEffect)((function(){"game"===n&&setInterval((function(){s(i)}),4e3)}),[n]),Object(d.jsxs)("div",{id:"game",children:[Object(d.jsx)(g,{hands:c}),Object(d.jsx)("div",{id:"players",children:r.map((function(e,n){return Object(d.jsx)(h,{hands:c,players:r,idx:n,isHighlighted:n===t.current_turn})}))})]})};var v=function(e){var t=e.username,n=e.currentView,a=e.setCurrentView,s=e.setUsername,c=e.gameState,r=e.findGame,i=e.gameId,o=e.createGame,l=e.joinGame,u=e.findGameNoUpdate;return Object(d.jsxs)("div",{id:"table",children:["Currently logged in as: ",t,Object(d.jsx)("br",{}),"TABLE VIEW: ",n,Object(d.jsx)("br",{}),"Game ID: ",i,Object(d.jsx)("br",{}),"set-user"===e.currentView&&Object(d.jsx)(m,{setCurrentView:a,setUsername:s}),"join-create"===e.currentView&&Object(d.jsx)(b,{findGame:r,createGame:o,joinGame:l}),"game"===e.currentView&&Object(d.jsx)(p,{gameState:c,findGame:r,findGameNoUpdate:u,currentView:n})]})};var O=function(e){var t=e.onCloseRequest,n=e.children;return Object(d.jsxs)("div",{className:"modal-overlay",children:[Object(d.jsx)("button",{type:"button",className:"close-button",onClick:t,children:"X"}),Object(d.jsx)("div",{className:"modal-content",children:n})]})},f=['1. Set a username by enter it into the provided box and hit "Submit"',"2. Create a new game or find an existing one by typing the game ID into the appropriate box",'2.5. After finding an existing game, hit "Join Game" to actually join as a player','3. If the game isn\'t started, press "Start Game" to initialize the game',"4. On your turn, you can choose to Hit or Stand. The goal is to reach 21 or higher without going over (i.e. going bust).   Numerical cards are worth their face value. Face cards are worth 10. Aces are worth 1 or 11, depending on preference. If you go   bust, your turn is over and you automatically lose.","5. Once everyone has gone, the dealer will automatically play until their hand value is 17 or greater, and then wins/losses will be evaluated.",'6. Once the game is over, you can press the "Restart Game" button to start a new game','7. Hit "Leave Game" to leave a game lobby. When all active players leave a game, that lobby will be closed.',"NOTE: After leaving a game, it is recommended to refresh or close the page."],x=["\u2022 The entire project (API and front-end) was written in TypeScript","\u2022 The front-end application was built in ReactJS (along with HTML and CSS)","\u2022 Game state data is stored using MongoDB, accessed via MongooseJS","\u2022 The server is a Node.js server using Express for routing","\u2022 Front-end service and API service are both using ForeverJS for server persistence","\u2022 Mongo DBMS, Node server, and front-end service are all deployed to AWS EC2 instances"];var y=function(){var e="18.118.84.134",t=Object(a.useState)("set-user"),n=Object(i.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),m=o[0],b=o[1],h=Object(a.useState)(!1),g=Object(i.a)(h,2),p=g[0],y=g[1],w=Object(a.useState)(""),S=Object(i.a)(w,2),G=S[0],N=S[1],C=Object(a.useState)(""),A=Object(i.a)(C,2),T=A[0],E=A[1],_=Object(a.useState)({players:[],hands:[[]],current_turn:0}),k=Object(i.a)(_,2),V=k[0],I=k[1],M=function(t){l()({method:"post",url:"http://".concat(e,"/api/games/join"),data:{game_id:T,user_id:G}}).then((function(e){console.log(e),c("game"),I(e.data)})).catch((function(e){console.error(e)}))},D=function(){l()({method:"delete",url:"http://".concat(e,"/api/games/leave"),data:{game_id:T,user_id:G}}).then((function(e){console.log(e),c("join-create"),E("")})).catch((function(e){console.error(e),c("join-create"),E("")}))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("b",{children:"Play Blackjack"})," with a group of up to 4 players online! ",Object(d.jsx)("br",{}),"Click ",Object(d.jsx)("b",{children:"How to Play"})," below for instructions for using this page.",Object(d.jsx)("br",{}),"Click ",Object(d.jsx)("b",{children:"About the Tech"})," to get a description of what technologies were used to create/deploy this application.",m&&Object(d.jsxs)(O,{onCloseRequest:function(){b(!1)},children:[" ",f.map((function(e){return Object(d.jsx)("div",{className:"rule-line",children:e})}))," "]}),p&&Object(d.jsxs)(O,{onCloseRequest:function(){y(!1)},children:[" ",x.map((function(e){return Object(d.jsx)("div",{className:"rule-line",children:e})}))," "]}),Object(d.jsx)(j,{startGame:function(){l()({method:"post",url:"http://".concat(e,"/api/games/start"),data:{game_id:T}}).then((function(e){console.log(e),I(e.data)})).catch((function(e){console.error(e)}))},leaveGame:D,joinGame:M,currentView:s,gameState:V}),Object(d.jsx)(v,{gameId:T,username:G,currentView:s,setCurrentView:c,setUsername:N,gameState:V,findGame:function(t){var n=t;void 0===t&&(n=T),l()({method:"get",url:"http://".concat(e,"/api/games/state"),headers:{game_id:n}}).then((function(e){console.log(e),E(n),c("game"),I(e.data)})).catch((function(e){console.error(e)}))},findGameNoUpdate:function(t){var n=t;void 0===t&&(n=T),l()({method:"get",url:"http://".concat(e,"/api/games/state"),headers:{game_id:n}}).then((function(e){console.log(e),E(n),I(e.data)})).catch((function(e){console.error(e)}))},createGame:function(t){l()({method:"post",url:"http://".concat(e,"/api/games/create"),data:{game_id:t,user_id:G}}).then((function(e){console.log(e),E(t),c("game"),I(e.data)})).catch((function(e){console.error(e)}))},joinGame:M}),Object(d.jsx)(u,{playMove:function(t){l()({method:"put",url:"http://".concat(e,"/api/games/move"),data:{game_id:T,user_id:G,move:t}}).then((function(e){console.log(e),I(e.data)})).catch((function(e){console.error(e)}))},leaveGame:D,setShowRules:b,setShowTech:y,currentView:s,gameState:V,username:G})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),w()}},[[39,1,2]]]);
//# sourceMappingURL=main.b6250fbb.chunk.js.map